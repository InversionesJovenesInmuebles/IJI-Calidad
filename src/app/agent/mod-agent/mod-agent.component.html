<h1 class="text-2xl mb-5">Modificar Agente</h1>
<form [formGroup]="agenteForm" (ngSubmit)="onSubmit()" class="flex flex-col justify-center items-center w-full max-w-3xl mx-auto">
  <section class="flex flex-col md:flex-row gap-5 mb-4 w-full">
    <div class="w-full">
      <label for="nombre" class="block mb-2 text-lg">Nombre:</label>
      <input type="text" id="nombre" formControlName="nombre" required class="w-full p-2 bg-gray-200 text-blue-900 border-b-2 border-blue-900 text-lg focus:outline-none">
      <div *ngIf="agenteForm.get('nombre')?.invalid && agenteForm.get('nombre')?.touched" class="text-sm text-red-500">
        El nombre es obligatorio, no debe contener números ni caracteres especiales, y no puede superar los 50 caracteres.
      </div>
    </div>
    <div class="w-full">
      <label for="apellido" class="block mb-2 text-lg">Apellidos:</label>
      <input type="text" id="apellido" formControlName="apellido" required class="w-full p-2 bg-gray-200 text-blue-900 border-b-2 border-blue-900 text-lg focus:outline-none">
      <div *ngIf="agenteForm.get('apellido')?.invalid && agenteForm.get('apellido')?.touched" class="text-sm text-red-500">
        El apellido es obligatorio, no debe contener números ni caracteres especiales, y no puede superar los 50 caracteres.
      </div>
    </div>
  </section>

  <section class="flex flex-col md:flex-row gap-5 mb-4 w-full">
    <div class="w-full">
      <label for="dni" class="block mb-2 text-lg">DNI:</label>
      <input type="number" id="dni" formControlName="dni" required class="w-full p-2 bg-gray-200 text-blue-900 border-b-2 border-blue-900 text-lg focus:outline-none">
      <div *ngIf="agenteForm.get('dni')?.invalid && agenteForm.get('dni')?.touched" class="text-sm text-red-500">
        El DNI debe tener exactamente 8 dígitos.
      </div>
    </div>
    <div class="w-full">
      <label for="telefono" class="block mb-2 text-lg">Teléfono:</label>
      <input type="number" id="telefono" formControlName="telefono" required class="w-full p-2 bg-gray-200 text-blue-900 border-b-2 border-blue-900 text-lg focus:outline-none">
      <div *ngIf="agenteForm.get('telefono')?.invalid && agenteForm.get('telefono')?.touched" class="text-sm text-red-500">
        El teléfono debe tener 9 dígitos y comenzar con el número 9.
      </div>
    </div>
  </section>

  <section class="flex flex-col md:flex-row gap-5 mb-4 w-full">
    <div class="w-full">
      <label for="nombreInmobiliaria" class="block mb-2 text-lg">Inmobiliaria:</label>
      <input type="text" id="nombreInmobiliaria" formControlName="nombreInmobiliaria" required class="w-full p-2 bg-gray-200 text-blue-900 border-b-2 border-blue-900 text-lg focus:outline-none" >
    </div>
  </section>

  <section class="flex flex-col md:flex-row gap-5 mb-4 w-full">
    <div class="w-full">
      <label for="correo" class="block mb-2 text-lg">Correo:</label>
      <input type="email" id="correo" formControlName="correo" required class="w-full p-2 bg-gray-200 text-blue-900 border-b-2 border-blue-900 text-lg focus:outline-none">
      <div *ngIf="agenteForm.get('correo')?.hasError('invalidEmail') && agenteForm.get('correo')?.touched" class="text-sm text-red-500">
        El correo debe tener un "&#64;" y un dominio válido (.com, .pe, etc.).
      </div>
    </div>
    <div class="w-full">
      <label for="contrasena" class="block mb-2 text-lg">Contraseña:</label>
      <input type="password" id="contrasena" formControlName="contrasena" required class="w-full p-2 bg-gray-200 text-blue-900 border-b-2 border-blue-900 text-lg focus:outline-none">
      <div *ngIf="agenteForm.get('contrasena')?.invalid && agenteForm.get('contrasena')?.touched" class="text-sm text-red-500">
        La contraseña debe tener entre 8 y 16 caracteres, con al menos una mayúscula, una minúscula, un numero y un carácter especial permitido (&#64;, $, +, *, -, /, #, &, !, ¡, _, ?, ¿, °, |).
      </div>
    </div>
  </section>

  <div class="flex justify-between items-center w-full mt-4">
    <button type="submit" class="px-10 py-2 bg-blue-900 text-white text-lg rounded hover:bg-orange-500 transition">Modificar</button>
    <button type="button" class="px-10 py-2 bg-black text-white text-lg rounded hover:bg-white hover:text-black transition" routerLink="/manageAgent">Cancelar</button>
  </div>

  <div *ngIf="errorMessage" class="fixed top-4 left-1/2 transform -translate-x-1/2 bg-red-500 text-white py-2 px-4 rounded-md shadow-lg text-center z-50">
    {{ errorMessage }}
  </div>
</form>
